process Rec = {
  untracked PSet maxEvents = {untracked int32 input = -1}
#    service = Tracer {}

    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    include "CondCore/DBCommon/data/CondDBSetup.cfi"

#   service = MessageLogger {
#     untracked vstring destinations = { "cout" }
#     untracked PSet cout = {
#       untracked string threshold = "DEBUG"
#     }
#     untracked PSet log4cplus = {
#       untracked string threshold = "WARNING"
#     }
#   }


#
### input
#
#
## rootified raw data
#
    source = PoolSource {
       untracked vstring fileNames = {'file:/build/arizzi/CRUZET.A.43210.root'}
}
### output module
#
   module FEVT = PoolOutputModule {

     untracked string fileName = 'reco-gr.root'


    untracked PSet dataset =
    {
      untracked string dataTier = "RECO"
    }
   }



   untracked PSet configurationMetadata =
   {
    untracked string version = "$Revision: 1.8 $"
    untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/Configuration/GlobalRuns/data/recoT0DQM.cfg,v $"
    untracked string annotation = "CRUZET Prompt Reco with DQM"
   }


   untracked PSet options = {
        untracked bool wantSummary = true  # default is false
     }

 # service = Timing {}

### Conditions (Global Tag is used here):
include "Configuration/StandardSequences/data/FrontierConditions_GlobalTag.cff"
#replace GlobalTag.connect = "sqlite_file:/afs/cern.ch/user/m/malgeri/public/globtag/CRUZET.db"
replace GlobalTag.globaltag = "CRUZET_V2::All"
es_prefer GlobalTag = PoolDBESSource {}
### Magnetic fiuld: force mag field to be 0.0 tesla
include "Configuration/GlobalRuns/data/ForceZeroTeslaField.cff"

## reconstruction sequence for Global Run
include "Configuration/GlobalRuns/data/ReconstructionGR.cff"

## offline raw to digi
include "Configuration/GlobalRuns/data/RawToDigiGR.cff"

## offline DQM
include "DQMOffline/Configuration/data/DQMOffline.cff"
include "DQMServices/Components/data/MEtoEDMConverter.cff"
include "L1Trigger/HardwareValidation/data/L1HardwareValidation.cff"

include "RecoEcal/EgammaClusterProducers/data/cosmicClusteringSequence.cff"

replace muonAnalyzer.muonRecoAnalysis.pBin =100
replace muonAnalyzer.muonRecoAnalysis.ptBin =100
replace muonAnalyzer.muonRecoAnalysis.pResBin =100


replace muonAnalyzer.muonEnergyAnalysis.emSizeBin = 100
replace muonAnalyzer.muonEnergyAnalysis.emS9SizeBin = 100
replace muonAnalyzer.muonEnergyAnalysis.hadSizeBin = 100
replace muonAnalyzer.muonEnergyAnalysis.hadS9SizeBin = 100
replace muonAnalyzer.muonEnergyAnalysis.hoSizeBin = 100
replace muonAnalyzer.muonEnergyAnalysis.hoS9SizeBin = 100
    
path allPath = {  RawToDigi , ReconstructionGR , DQMOffline, MEtoEDMConverter}

    endpath outpath = {FEVT}
}

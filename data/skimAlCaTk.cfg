process skimAlCaTk = {
  untracked PSet maxEvents = {untracked int32 input =-1}

  include "FWCore/MessageLogger/data/MessageLogger.cfi"
  include "CondCore/DBCommon/data/CondDBSetup.cfi"
  replace MessageLogger.cerr.default.limit = 10


#-- AlignmentTrackSelector ------------------------------------------------------------------
  include "Alignment/CommonAlignmentProducer/data/ALCARECOTkAlCosmics.cff"

#-- Output ---------------------------------------------------------------------------------- 
// it was  include "Alignment/CommonAlignmentProducer/data/ALCARECOTkAlCosmics_Output.cff"

    block OutALCARECOTkAlCosmics = {
    untracked vstring outputCommands = { 
        "drop *" , 
        "keep *_ALCARECOTkAlCosmics*_*_*",
	"keep L1GlobalTriggerReadoutRecord_gtDigis_*_*",
        "keep Si*Cluster*_*_*_*", # for cosmics keep also clusters
	"keep *_MEtoEDMConverter_*_*"
       }
    untracked PSet SelectEvents = {
	vstring SelectEvents = { "pathALCARECOTkAlCosmics" }
       }    
    }

#
### input
   source = PoolSource {
     untracked vstring fileNames = { 'file:/build/arizzi/CMSSW_2_0_10/src/reco.root' }
     untracked uint32 firstFreeID = 131072
   }


   untracked PSet configurationMetadata =
   {
    untracked string version = "$Revision: 1.2 $"
    untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/Configuration/GlobalRuns/data/skimAlCaTk.cfg,v $"
    untracked string annotation = "CRUZET3 skim for Tk alignment"
   }


   untracked PSet options = {
        untracked bool wantSummary = true  # default is false
     }


### Conditions (Global Tag is used here):
include "Configuration/StandardSequences/data/FrontierConditions_GlobalTag.cff"
#replace GlobalTag.connect  ="sqlite_file:/afs/cern.ch/user/m/malgeri/public/globtag/CRUZET3.db"
replace GlobalTag.globaltag = "CRUZET3_V1P::All"
es_prefer GlobalTag = PoolDBESSource {}


  module FEVT = PoolOutputModule {
    untracked string fileName = 'alcareco.root'
    using OutALCARECOTkAlCosmics
    untracked PSet dataset =
    {
      untracked string dataTier = "ALCARECO"
      untracked string filterName = "ALCARECOCosmics0T"
    }
   }


    include "Configuration/StandardSequences/data/ReconstructionCosmics.cff"
### Magnetic field: force mag field to be 0.0 tesla
   include "Configuration/StandardSequences/data/MagneticField.cff"
   include "Configuration/GlobalRuns/data/ForceZeroTeslaField.cff"
   include "Configuration/StandardSequences/data/Geometry.cff"
 
    path pathALCARECOTkAlCosmics = { seqALCARECOTkAlCosmicsCTF }
    endpath outpath = {FEVT}
}

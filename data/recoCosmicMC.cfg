process Rec3 = {
  untracked PSet maxEvents = {untracked int32 input = 1000}
#    service = Tracer {}

   service = Timing {}


    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    include "CondCore/DBCommon/data/CondDBSetup.cfi"

#   service = MessageLogger {
#     untracked vstring destinations = { "cout" }
#     untracked PSet cout = {
#       untracked string threshold = "DEBUG"
#     }
#     untracked PSet log4cplus = {
#       untracked string threshold = "WARNING"
#     }
#   }


#
### input
#
#
## rootified raw data
#
    source = PoolSource {
#       untracked vstring fileNames = {'file:GlobalMar08_37965_A.root'}
       untracked vstring fileNames = {'file:gen_sim_digi_raw_100k_200pre9.root'}
}
### output module
#

   module FEVT = PoolOutputModule {
	
	untracked string fileName = 'reco-gr.root'

    untracked PSet dataset =
    {
      untracked string dataTier = "RECO"
    }
   }

   untracked PSet options = {
        untracked bool wantSummary = true  # default is false
     }

 # service = Timing {}

## use Fake cond for MC
include "Configuration/StandardSequences/data/FakeConditions.cff"

### Conditions (Global Tag is used here):
#include "Configuration/GlobalRuns/data/FrontierConditionsGRGlobalTag.cff"
#replace GlobalTag.connect = "oracle://cms_orcoff_int2r/CMS_COND_GENERAL"
#replace GlobalTag.DBParameters.authenticationPath="/afs/cern.ch/cms/DB/conddb"
#replace GlobalTag.timetype = "runnumber"
#replace GlobalTag.globaltag = "GRUMM_V4::All"

### Magnetic fiuld: force mag field to be 0.0 tesla
include "Configuration/GlobalRuns/data/ForceZeroTeslaField.cff"

## reconstruction sequence for Global Run
include "Configuration/GlobalRuns/data/ReconstructionGR.cff"

## offline raw to digi for real data
#include "Configuration/GlobalRuns/data/RawToDigiGR.cff"
## offline raw to digi for MC
include "Configuration/StandardSequences/data/RawToDigi.cff"


    path allPath = {  RawToDigi , reconstructionGR}

    endpath outpath = {FEVT}
}

process TEST = {
    source = PoolSource { 
	untracked vstring fileNames = {
           '/store/data/CRUZET3/Cosmics/RECO/CRUZET3_V2P_v3/0060/226F5F00-3451-DD11-9688-000423D9853C.root'
	}
    }

    untracked PSet maxEvents = {untracked int32 input = -1}


### Conditions (Global Tag is used here):
### Magnetic fiuld: force mag field to be 0.0 tesla
include "Configuration/StandardSequences/data/MagneticField.cff"
include "Configuration/GlobalRuns/data/ForceZeroTeslaField.cff"
include "Configuration/StandardSequences/data/Geometry.cff"
include "Configuration/StandardSequences/data/ReconstructionCosmics.cff"
include "Configuration/StandardSequences/data/FrontierConditions_GlobalTag.cff"
replace GlobalTag.globaltag = "CRUZET3_V2P::All"
es_prefer GlobalTag = PoolDBESSource {}



   untracked PSet options = { untracked bool wantSummary = true }

    module out = PoolOutputModule {
	untracked string fileName = "trackerPointing.root"
	untracked PSet SelectEvents = { 
	    vstring SelectEvents = {"cosmicMuonsBarrelOnlyTkPath","cosmictrackfinderP5TkCntPath","ctfWithMaterialTracksP5TkCntPath","rsWithMaterialTracksP5TkCntPath"}
	} 
    }

module cosmicMuonsBarrelOnlyTkFilter = HLTMuonPointingFilter {
   string SALabel = "cosmicMuonsBarrelOnly"
   string PropagatorName = "SteppingHelixPropagatorAny"
   double radius = 90.0
   double maxZ = 130.0
 }


  module cosmictrackfinderP5TkCntFilter  = TrackCountFilter {
   InputTag src = cosmictrackfinderP5
   uint32 minNumber = 1
 }

  module ctfWithMaterialTracksP5TkCntFilter  = TrackCountFilter {
   InputTag src = ctfWithMaterialTracksP5
   uint32 minNumber = 1
 }

  module rsWithMaterialTracksP5TkCntFilter  = TrackCountFilter {
   InputTag src = rsWithMaterialTracksP5
   uint32 minNumber = 1
 }
 
path cosmicMuonsBarrelOnlyTkPath = {cosmicMuonsBarrelOnlyTkFilter}
path cosmictrackfinderP5TkCntPath = {cosmictrackfinderP5TkCntFilter}
path ctfWithMaterialTracksP5TkCntPath = {ctfWithMaterialTracksP5TkCntFilter}
path rsWithMaterialTracksP5TkCntPath = {rsWithMaterialTracksP5TkCntFilter}

    endpath o = { out }

}

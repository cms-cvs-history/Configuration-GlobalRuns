process Rec = {
  untracked PSet maxEvents = {untracked int32 input = -1}
#    service = Tracer {}

    include "FWCore/MessageLogger/data/MessageLogger.cfi"
    include "CondCore/DBCommon/data/CondDBSetup.cfi"

#   service = MessageLogger {
#     untracked vstring destinations = { "cout" }
#     untracked PSet cout = {
#       untracked string threshold = "DEBUG"
#     }
#     untracked PSet log4cplus = {
#       untracked string threshold = "WARNING"
#     }
#   }


#
### input
#
#
## rootified raw data
#
    source = PoolSource {
       untracked vstring fileNames = {'file:/build/arizzi/CRUZET.A.43210.root'}
}
### output module
#
   module FEVT = PoolOutputModule {

     untracked string fileName = 'reco-gr-evtcnt.root'
untracked vstring outputCommands = {
  "drop *",
 "keep *_siStripDigis_*_*",
 "keep *_siStripZeroSuppression_*_*",
 "keep *_siPixelClusters_*_*",
 "keep *_siStripClusters_*_*",
 "keep *_siPixelRecHits_*_*",
 "keep *_siStripRecHits_*_*",
 "keep *_siStripMatchedRecHits_*_*",
 "keep *_dt1DRecHits_*_*",
 "keep *_dt4DSegments_*_*",
 "keep *_csc2DRecHits_*_*",
 "keep *_cscSegments_*_*",
 "keep *_rpcRecHits_*_*",
 "keep *_hbhereco_*_*",
 "keep *_hfreco_*_*",
 "keep *_horeco_*_*",
 "keep *_ecalWeightUncalibRecHit_*_*",
 "keep *_ecalFixedAlphaBetaFitUncalibRecHit_*_*",
 "keep *_ecalPreshowerRecHit_*_*",
 "keep *_ecalRecHit_*_*",
 "keep *_ecalRecHit_*_*",
 "keep *_ecalWeightUncalibRecHit_*_*",
 "keep *_ecalPreshowerRecHit_*_*",
 "keep *_islandBasicClusters_*_*",
 "keep *_islandSuperClusters_*_*",
 "keep *_hybridSuperClusters_*_*",
 "keep *_correctedFixedMatrix*_*_*",
 "keep *_cosmicBasicClusters_*_*",
 "keep *_fixedMatrix*_*_*",
 "keep *_correctedIslandBarrelSuperClusters_*_*",
 "keep *_correctedIslandEndcapSuperClusters_*_*",
 "keep *_correctedHybridSuperClusters_*_*",
 "keep *_correctedEndcapSuperClustersWithPreshower_*_*",
 "keep *_preshowerClusterShape_*_*",
 "keep recoTracks_ctfWithMaterialTracksP5_*_*",
 "keep recoTrackExtras_ctfWithMaterialTracksP5_*_*",
 "keep TrackingRecHitsOwned_ctfWithMaterialTracksP5_*_*",
 "keep recoTracks_rsWithMaterialTracksP5_*_*",
 "keep recoTrackExtras_rsWithMaterialTracksP5_*_*",
 "keep TrackingRecHitsOwned_rsWithMaterialTracksP5_*_*",
 "keep recoTracks_cosmictrackfinderP5_*_*",
 "keep recoTrackExtras_cosmictrackfinderP5_*_*",
 "keep TrackingRecHitsOwned_cosmictrackfinderP5_*_*",
 "keep recoCaloJets_*_*_*",
 "keep recoPFJets_*_*_*",
 "keep *_caloTowers_*_*",
 "keep *_towerMaker_*_*",
 "keep *_ic5JetTracksAssociatorAtVertex_*_*",
 "keep *_iterativeCone5JetTracksAssociatorAtVertex_*_*",
 "keep *_iterativeCone5JetTracksAssociatorAtCaloFace_*_*",
 "keep *_iterativeCone5JetExtender_*_*",
 "keep *_sisCone5JetTracksAssociatorAtVertex_*_*",
 "keep *_sisCone5JetTracksAssociatorAtCaloFace_*_*",
 "keep *_sisCone5JetExtender_*_*",
 "keep *_kt4JetTracksAssociatorAtVertex_*_*",
 "keep *_kt4JetTracksAssociatorAtCaloFace_*_*",
 "keep *_kt4JetExtender_*_*",
 "keep recoCaloMETs_*_*_*",
 "keep recoMETs_*_*_*",
 "keep *_CosmicMuonSeed_*_*",
 "keep recoTracks_cosmicMuons_*_*",
 "keep recoTrackExtras_cosmicMuons_*_*",
 "keep TrackingRecHitsOwned_cosmicMuons_*_*",
 "keep recoTracks_globalCosmicMuons_*_*",
 "keep recoTrackExtras_globalCosmicMuons_*_*",
 "keep TrackingRecHitsOwned_globalCosmicMuons_*_*",
 "keep recoTracks_ctfWithMaterialTracksP5_*_*",
 "keep recoMuons_STAMuons_*_*",
 "keep recoMuons_TKMuons_*_*",
 "keep recoMuons_GLBMuons_*_*",
 "keep recoMuons_muons_*_*",
 "keep *_muIsoDepositTk_*_*",
 "keep *_muIsoDepositCalByAssociatorTowers_*_*",
 "keep *_muIsoDepositCalByAssociatorHits_*_*",
 "keep *_muIsoDepositJets_*_*",
 "keep *_muGlobalIsoDepositCtfTk_*_*",
 "keep *_muGlobalIsoDepositCalByAssociatorTowers_*_*",
 "keep *_muGlobalIsoDepositCalByAssociatorHits_*_*",
 "keep *_muGlobalIsoDepositJets_*_*",
 "keep *_offlineBeamSpot_*_*",
 "keep *_gtDigis_*_*",
 "keep *_l1GtRecord_*_*",
 "keep *_l1GtObjectMap_*_*",
 "keep *_l1extraParticles_*_*",
 "keep *_MEtoEDMConverter_*_*",
 "drop *_hlt*_*_*",
 "keep edmTriggerResults_*_*_*",
 "keep triggerTriggerEvent_*_*_*",
 "keep *_hltGtDigis_*_*",
 "keep *_hltL1GtObjectMap_*_*",
 "keep *_hltL1extraParticles_*_*",
 "keep *_hltOfflineBeamSpot_*_*",
 "keep *_hltPixelTracks_*_*",
 "keep *_hltIsolPixelTrackProd_*_*",
 "keep *_hltL1sIsoTrack_*_*",
 "keep *_hltGtDigis_*_*",
 "keep l1extraL1JetParticles_hltL1extraParticles_*_*",
 "keep *_hltAlCaPi0RegRecHits_pi0EcalRecHitsEB_*",
 "keep *_hltAlCaPhiSymStream_phiSymEcalRecHitsEB_*",
 "keep *_hltAlCaPhiSymStream_phiSymEcalRecHitsEE_*",
 "keep *_hltL1GtUnpack_*_*",
 "keep *_hltGtDigis_*_*",
 "keep *_hltAlCaHcalPhiSymStream_phiSymHcalRecHitsHBHE_*",
 "keep *_hltAlCaHcalPhiSymStream_phiSymHcalRecHitsHO_*",
 "keep *_hltAlCaHcalPhiSymStream_phiSymHcalRecHitsHF_*"
  }


    untracked PSet dataset =
    {
      untracked string dataTier = "RECO"
    }
   }
#wanna keep raw?
replace FEVT.outputCommands +="keep FEDRawDataCollection_source__*"

replace FEVT.outputCommands +="keep CaloTowersSorted_calotoweroptmaker_*_*"
replace FEVT.outputCommands +="keep CSCDetIdCSCALCTDigiMuonDigiCollection_muonCSCDigis_MuonCSCALCTDigi_*"
replace FEVT.outputCommands +="keep CSCDetIdCSCCLCTDigiMuonDigiCollection_muonCSCDigis_MuonCSCCLCTDigi_*"
replace FEVT.outputCommands +="keep CSCDetIdCSCComparatorDigiMuonDigiCollection_muonCSCDigis_MuonCSCComparatorDigi_*"
replace FEVT.outputCommands +="keep CSCDetIdCSCCorrelatedLCTDigiMuonDigiCollection_csctfDigis_*_*"
replace FEVT.outputCommands +="keep CSCDetIdCSCCorrelatedLCTDigiMuonDigiCollection_muonCSCDigis_MuonCSCCorrelatedLCTDigi_*"
replace FEVT.outputCommands +="keep CSCDetIdCSCRPCDigiMuonDigiCollection_muonCSCDigis_MuonCSCRPCDigi_*"
replace FEVT.outputCommands +="keep CSCDetIdCSCStripDigiMuonDigiCollection_muonCSCDigis_MuonCSCStripDigi_*"
replace FEVT.outputCommands +="keep CSCDetIdCSCWireDigiMuonDigiCollection_muonCSCDigis_MuonCSCWireDigi_*"
replace FEVT.outputCommands +="keep cscL1TrackCSCDetIdCSCCorrelatedLCTDigiMuonDigiCollectionstdpairs_csctfDigis_*_*"
replace FEVT.outputCommands +="keep DTChamberIdDTLocalTriggerMuonDigiCollection_muonDTDigis_*_*"
replace FEVT.outputCommands +="keep DTLayerIdDTDigiMuonDigiCollection_muonDTDigis_*_*"
#replace FEVT.outputCommands +="keep EBDigiCollection_ecalDigis_ebDigis_*"
#replace FEVT.outputCommands +="keep EBSrFlagsSorted_ecalDigis_*_*"
#replace FEVT.outputCommands +="keep EcalDCCHeaderBlocksSorted_ecalDigis_*_*"
#replace FEVT.outputCommands +="keep EcalPnDiodeDigisSorted_ecalDigis_*_*"
#replace FEVT.outputCommands +="keep EcalTriggerPrimitiveDigisSorted_ecalDigis_EcalTriggerPrimitives_*"
#replace FEVT.outputCommands +="keep EEDigiCollection_ecalDigis_eeDigis_*"
#replace FEVT.outputCommands +="keep EESrFlagsSorted_ecalDigis_*_*"
#replace FEVT.outputCommands +="keep ESDataFramesSorted_ecalPreshowerDigis_*_*"
#replace FEVT.outputCommands +="keep HBHEDataFramesSorted_hcalDigis_*_*"
#replace FEVT.outputCommands +="keep HcalCalibDataFramesSorted_hcalDigis_*_*"
#replace FEVT.outputCommands +="keep HcalTriggerPrimitiveDigisSorted_hcalDigis_*_*"
#replace FEVT.outputCommands +="keep HcalUnpackerReport_hcalDigis_*_*"
#replace FEVT.outputCommands +="keep HFDataFramesSorted_hcalDigis_*_*"
#replace FEVT.outputCommands +="keep HODataFramesSorted_hcalDigis_*_*"
replace FEVT.outputCommands +="keep intL1CSCSPStatusDigisstdpair_csctfDigis_*_*"
#replace FEVT.outputCommands +="keep L1CaloEmCands_gctDigis_*_*"
#replace FEVT.outputCommands +="keep L1CaloRegions_gctDigis_*_*"
#replace FEVT.outputCommands +="keep L1GctEmCands_gctDigis_isoEm_*"
#replace FEVT.outputCommands +="keep L1GctEmCands_gctDigis_nonIsoEm_*"
#replace FEVT.outputCommands +="keep L1GctEtHad_gctDigis_*_*"
#replace FEVT.outputCommands +="keep L1GctEtMiss_gctDigis_*_*"
#replace FEVT.outputCommands +="keep L1GctEtTotal_gctDigis_*_*"
#replace FEVT.outputCommands +="keep L1GctFibreWords_gctDigis_*_*"
#replace FEVT.outputCommands +="keep L1GctInternEmCands_gctDigis_*_*"
#replace FEVT.outputCommands +="keep L1GctJetCands_gctDigis_cenJets_*"
#replace FEVT.outputCommands +="keep L1GctJetCands_gctDigis_forJets_*"
#replace FEVT.outputCommands +="keep L1GctJetCands_gctDigis_tauJets_*"
#replace FEVT.outputCommands +="keep L1GctJetCounts_gctDigis_*_*"
#replace FEVT.outputCommands +="keep L1MuDTChambPhContainer_dttfDigis_*_*"
#replace FEVT.outputCommands +="keep L1MuDTChambThContainer_dttfDigis_*_*"
#replace FEVT.outputCommands +="keep L1MuDTTrackContainer_dttfDigis_DATA_*"
replace FEVT.outputCommands +="keep PixelDigiedmDetSetVector_siPixelDigis_*_*"
replace FEVT.outputCommands +="keep recoCandidatesOwned_caloTowersOpt_*_*"
replace FEVT.outputCommands +="keep recoMuons_GLBMuonsBarrelOnly_*_*"
replace FEVT.outputCommands +="keep recoMuons_muonsBarrelOnly_*_*"
replace FEVT.outputCommands +="keep recoMuons_STAMuonsBarrelOnly_*_*"
replace FEVT.outputCommands +="keep recoMuons_STAMuonsEndCapsOnly_*_*"
replace FEVT.outputCommands +="keep recoMuonTrackLinkss_globalCosmicMuonsBarrelOnly_*_*"
replace FEVT.outputCommands +="keep recoMuonTrackLinkss_globalCosmicMuons_*_*"
replace FEVT.outputCommands +="keep recoTrackExtras_cosmicMuonsBarrelOnly_*_*"
replace FEVT.outputCommands +="keep recoTrackExtras_cosmicMuonsEndCapsOnly_*_*"
replace FEVT.outputCommands +="keep recoTrackExtras_globalCosmicMuonsBarrelOnly_*_*"
replace FEVT.outputCommands +="keep recoTracks_cosmicMuonsBarrelOnly_*_*"
replace FEVT.outputCommands +="keep recoTracks_cosmicMuonsEndCapsOnly_*_*"
replace FEVT.outputCommands +="keep recoTracks_globalCosmicMuonsBarrelOnly_*_*"
replace FEVT.outputCommands +="keep RPCDetIdRPCDigiMuonDigiCollection_muonRPCDigis_*_*"
#replace FEVT.outputCommands +="keep TrackCandidates_ckfTrackCandidatesP5_*_*"
#replace FEVT.outputCommands +="keep TrackCandidates_rsTrackCandidatesP5_*_*"
replace FEVT.outputCommands +="keep TrackingRecHitsOwned_cosmicMuonsBarrelOnly_*_*"
replace FEVT.outputCommands +="keep TrackingRecHitsOwned_cosmicMuonsEndCapsOnly_*_*"
replace FEVT.outputCommands +="keep TrackingRecHitsOwned_globalCosmicMuonsBarrelOnly_*_*"
#replace FEVT.outputCommands +="keep TrajectorySeeds_combinatorialcosmicseedfinderP5_*_*"
#replace FEVT.outputCommands +="keep TrajectorySeeds_CosmicMuonSeedBarrelOnly_*_*"
#replace FEVT.outputCommands +="keep TrajectorySeeds_CosmicMuonSeedEndCapsOnly_*_*"
#replace FEVT.outputCommands +="keep TrajectorySeeds_cosmicseedfinderP5_*_*"
#replace FEVT.outputCommands +="keep TrajectorysToOnerecoTracksAssociation_cosmictrackfinderP5_*_*"
#replace FEVT.outputCommands +="keep TrajectorysToOnerecoTracksAssociation_ctfWithMaterialTracksP5_*_*"
#replace FEVT.outputCommands +="keep TrajectorysToOnerecoTracksAssociation_rsWithMaterialTracksP5_*_*"
#replace FEVT.outputCommands +="keep ZDCDataFramesSorted_hcalDigis_*_*"


   untracked PSet configurationMetadata =
   {
    untracked string version = "$Revision: 1.1 $"
    untracked string name = "$Source: /cvs_server/repositories/CMSSW/CMSSW/Configuration/GlobalRuns/data/recoT0DQM_EvContent.cfg,v $"
    untracked string annotation = "CRUZET Prompt Reco with DQM"
   }


   untracked PSet options = {
        untracked bool wantSummary = true  # default is false
     }

 # service = Timing {}

### Conditions (Global Tag is used here):
include "Configuration/StandardSequences/data/FrontierConditions_GlobalTag.cff"
#replace GlobalTag.connect = "sqlite_file:/afs/cern.ch/user/m/malgeri/public/globtag/CRUZET.db"
replace GlobalTag.globaltag = "CRUZET_V1NOL1::All"
es_prefer GlobalTag = PoolDBESSource {}
### Magnetic fiuld: force mag field to be 0.0 tesla
include "Configuration/GlobalRuns/data/ForceZeroTeslaField.cff"

## reconstruction sequence for Global Run
include "Configuration/GlobalRuns/data/ReconstructionGR.cff"

## offline raw to digi
include "Configuration/GlobalRuns/data/RawToDigiGR.cff"

## offline DQM
include "DQMOffline/Configuration/data/DQMOffline.cff"
include "DQMServices/Components/data/MEtoEDMConverter.cff"
include "L1Trigger/HardwareValidation/data/L1HardwareValidation.cff"



replace muonAnalyzer.muonRecoAnalysis.pBin =100
replace muonAnalyzer.muonRecoAnalysis.ptBin =100
replace muonAnalyzer.muonRecoAnalysis.pResBin =100


replace muonAnalyzer.muonEnergyAnalysis.emSizeBin = 100
replace muonAnalyzer.muonEnergyAnalysis.emS9SizeBin = 100
replace muonAnalyzer.muonEnergyAnalysis.hadSizeBin = 100
replace muonAnalyzer.muonEnergyAnalysis.hadS9SizeBin = 100
replace muonAnalyzer.muonEnergyAnalysis.hoSizeBin = 100
replace muonAnalyzer.muonEnergyAnalysis.hoS9SizeBin = 100

    path allPath = {  RawToDigi , reconstructionGR , DQMOffline, MEtoEDMConverter}

    endpath outpath = {FEVT}
}
